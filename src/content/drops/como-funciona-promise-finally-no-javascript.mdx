---
templateKey: drop-post
title: Como funciona Promise.finally() no JavaScript?
slug: como-funciona-promise-finally-no-javascript
featured:
  - https://res.cloudinary.com/beto-muniz/image/upload/f_auto/v1602430648/Titulo_Image_Site_1_mbiakw.jpg
description: Neste drop exemplifico o funcionamento do m√©todo .finally() em
  promises do JavaScript.
date: 2020-10-12T13:00:41.642Z
keywords:
  - promise
  - javascript
  - finally
audiencecall: "E a√≠ pessoal, blz? "
informaldesc: "üëâ No *Drop* de hoje falei sobre o m√©todo `.finally()`, uma
  adi√ß√£o do ES2018 para melhorar a maneira que lidamos com opera√ß√µes ass√≠ncronas
  dentro do JavaScript. "
category: tech
lang: pt
external: false
---
import { Drop } from '../../components/mdx'

<Drop>

üåü Introduzido no ES2018, **Promises** agora podem usufruir de um novo recurso para controlar o fluxo de opera√ß√µes atrav√©s do m√©todo `.finally()`.

üëâ A proposta do `Promise.finally()` √© executar opera√ß√µes independentemente da execu√ß√£o dos m√©todos `.then()` e `.catch()`. 

‚ö°Ô∏è Essa proposta √© muito semelhante com a abordagem [try {} catch {} finally {}](https://betomuniz.com/drops/try-catch-finally-statements-no-javascript), a diferen√ßa √© que a declara√ß√£o `finally {}` consegue retornar valores e `Promise.finally()` n√£o, `Promise.finally()` consegue retornar apenas exce√ß√µes via `throw`. 

```javascript
let loading = true

fetch('https://...')
  .then((response) => { ... })
  .catch((error) => { ... })
  .finally(() => { loading = false })
```

üòâ Legal, n√©?

</Drop>